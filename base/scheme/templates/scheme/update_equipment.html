{% extends 'main/index.html' %}

{% block title %} Изменение объекта {% endblock %}

{% block content %}

<script type="text/html" id="item-template">
    <div class="d-flex py-1 inline" id="item-__prefix__">
        <div >{{specifications_formset.empty_form.port.label}}: {{ specifications_formset.empty_form.port }}</div>&nbsp
        <div >{{specifications_formset.empty_form.timeslot.label}}: {{ specifications_formset.empty_form.timeslot }}</div>
        <div >{{specifications_formset.empty_form.channel_connect.label}}: {{ specifications_formset.empty_form.channel_connect }}</div>
        <br><br>
    </div>
</script>

<div class="container-fluid">
    <form method="post">
        {% csrf_token %}
        <div class="card">
            <div class="card-header row align-items-center">
                <div class="col-10 text-right">
                    <h4>Изменение объекта</h4>
                </div>
                <div class="col-2 align-items-start">
                    <button type="submit" class="btn btn-primary activate">Принять изменения</button>
                </div>
        </div>
            <div class="card-body">
      
                {{form.non_form_errors }}
                {{form.equipment.label}}: {{form.equipment}} <br><br>
                {{form.description.label}}: &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{form.description}}
                {{form.locations_connect.label}}: &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{form.locations_connect.all}
                <p></p>
                <h5 class="text-primary">Изменить спецификацию</h5>
                {{ specifications_formset.non_form_errors }}
                {{ specifications_formset.management_form }}
                <div id="items-form-container"> 
                {% for spec in specifications_formset %}
                <div id="item-{{ forloop.counter0 }}">
                    {{ spec.id}}
                  
                    {{ spec.port}}
                    Таймслот: {{ spec.timeslot }}
                    Канал: {{ spec.channel_connect }}
                    Канал: {{ spec.specification }}
                     <br><br>
                    
                </div>
                {% endfor %}
                </div>
                <br>
                <button class="btn btn-primary add-item" type="button" id="add-item-button">
                    Добавить строку
                </button> 
            </div>
        </div>
        <div class="mt-3 mb-5">
            
        </div>
    </form>
</div>

{% endblock%} 
{% extends 'main/index.html' %}

{% block title %} Изменение оборудования {% endblock %}

{% block content %}
<!--JS для добавления строки с новой спецификацией-->
<script type="text/html" id="item-template">
    <div class="d-flex py-1 inline" id="item-__prefix__">
        <div >{{specifications_formset.empty_form.port.label}}: {{ specifications_formset.empty_form.port }}</div>&nbsp
        <div >{{specifications_formset.empty_form.timeslot.label}}: {{ specifications_formset.empty_form.timeslot }}</div>
        <div >{{specifications_formset.empty_form.channel_connect.label}}: {{ specifications_formset.empty_form.channel_connect}}</div>
        <br><br>
    </div>
</script>

<div class="container-fluid">
    <form method="post">
        {% csrf_token %}
        <div class="card">
            <div class="card-header row align-items-center">
                <div class="col-10 text-right">
                    <h4>Изменение объекта</h4>
                </div>
                <div class="col-2 align-items-start">
                    <button type="submit" class="btn btn-primary activate">Принять изменения</button>
                </div>
        </div>
            <div class="card-body">
                <table>
                    <tbody>
                        <tr><td>{{form.non_form_errors }}</td></tr>
                        <tr><td>{{form.equipment.label}}:</td><td> {{form.equipment}} </td></tr>
                        <tr><td>{{form.locations_connect.label}}: </td><td>{{form.locations_connect}}</td></tr>
                        <tr><td>{{form.room.label}}:</td><td> {{form.room}} </td></tr>
                        <tr><td>{{form.mount_cab.label}}:</td><td> {{form.mount_cab}} </td></tr>
                        <tr><td>{{form.ip_address.label}}:</td><td> {{form.ip_address}} </td></tr>
                        <tr><td>{{form.inv_number.label}}: </td><td>{{form.inv_number}} </td></tr>
                        <tr><td>{{form.id_number.label}}:</td><td> {{form.id_number}} </td></tr>
                        <tr><td>{{form.description.label}}:</td><td> {{form.description}}</td></tr>
                        
                    <tbody>
                </table>
                <p></p>
                <h5 class="text-primary">Изменить спецификацию</h5>
                {{ specifications_formset.non_form_errors }}
                {{ specifications_formset.management_form }}
                <div id="items-form-container"> 
                {% for spec in specifications_formset %}
                <div id="item-{{ forloop.counter0 }}">
                    {{ spec.id}}
                    Порт: {{ spec.port}}
                    Таймслот: {{ spec.timeslot }}
                    Канал: {{ spec.channel_connect }}
                    Удаление: {{ spec.DELETE }}
                     <br><br>
                    
                </div>
                {% endfor %}
                </div>
                <br>
                <button class="btn btn-primary add-item" type="button" id="add-item-button">
                    Добавить строку
                </button> 
            </div>
        </div>
        <div class="mt-3 mb-5">
            
        </div>
    </form>
</div>

{% endblock%} 